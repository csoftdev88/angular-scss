<section widget="room" grid>
  <header>
    <h1>{{roomDetails.name}}</h1>
    <p ng-bind-html="sanitize(roomDetails.description)"></p>
    <hr>
  </header>

  <div ng-if="products.length">
    <div class="room-prices" >
      <accordion close-others="true">
        <accordion-group heading="{{product.name}}" ng-init="isOpen = accordionStates[$index]" is-open="isOpen" is-disabled="isOpen" ng-class="{'is-open': isOpen}" ng-repeat="product in products">
          <accordion-heading>
            <div ng-click="onSelectProduct(product)">
              <i class="icon icon-{{product.icon || 'star-1'}}"/>
              <header>
                <h3 class="title">{{product.name}}</h3>
                <p class="desc">{{product.tagline}}</p>
              </header>
              <p class="price">{{product.price.totalBase | i18nCurrency: $root.currencyCode}}</p>
              <small>per night</small>
            </div>
          </accordion-heading>
          <p ng-bind-html="sanitize(product.description)"></p>
        </accordion-group>
      </accordion>
    </div>

    <div class="room-continue">
      <a class="button" ng-disabled="!selectedProduct" ui-sref="reservation.details">_continue_</a>
    </div>
  </div>

  <div ng-if="products && !products.length">
    <h2>No Product Found</h2>
  </div>

  <div class="room-desc">
    <h3 class="section-title">Room <strong>Description</strong></h3>
    <p ng-bind-html="sanitize(roomDetails.description)"></p>
  </div>
  <div class="room-amenities">
    <h3 class="section-title">Room <strong>Amenities</strong></h3>
    <ul>
      <li ng-repeat="amenity in roomDetails.amenities">
        <i class="icon-{{amenity.icon || 'globe'}}"/>
        <span>{{amenity.name}}</span>
      </li>
    </ul>
  </div>
</section>
