<booking-widget-search>
  <h3 ng-if="!advanced"></h3>

  <!-- FIND YOUR HOTEL -->
  <form-element class="hotel" ng-show="hasPropertySelection">
    <select name="regionHotels" required chosen
            disable-search="false"
            data-placeholder="Region / Hotel"
            ng-model="regionPropertySelected"
            chosen-options-class="{ 'region': type === 'region', 'property': type === 'property' }"
            ng-options="option.name for option in propertyRegionList"
            ng-change="propertyRegionChanged(); checkAvailability()">
      <option></option> <!-- workaround for a bug in angular-chosen  -->
    </select>
    <form-label>Find Your Hotel</form-label>
  </form-element>

  <form-element class="hotel disabled-hotel" ng-show="!hasPropertySelection">
    <div class="chosen-container chosen-container-single disabled">
      <a class="chosen-single" tabindex="-1">
        <span>{{regionPropertySelected.name}}</span>
        <div><b></b></div>
      </a>
    </div>
  </form-element>

  <!-- ENTER YOUR DATES -->
  <form-element class="dates">
    <input type="text"
            id="booking-widget-date-range"
            placeholder="Dates"
            range-datepicker
            ng-model="selected.dates"
            data-range-selection="1"
            ng-required="true"
            show-button-bar="false"
            highlights="availability"
            data-include-counter="1"
            pane-title="getCurrentRate()"
            data-counter-pluralization="{'0': 'No dates selected', '1': '{} night', 'plural': '{} nights'}"
            input-text="inputDateText"
            ng-change="checkAvailability()">
    <form-label>Enter Your Dates</form-label>
    <input-value>{{inputDateText || 'Dates'}}</input-value>
  </form-element>

  <!-- NUMBER OF ADULTS -->
  <form-element class="persons" ng-if="!advanced">
    <select name="adults"
            required ng-model="selected.adults"
            disable-search="true"
            chosen ng-options="option.title for option in guestsOptions.adults"
            data-placeholder="Adults"
            ng-change="checkAvailability()">
    <option></option> <!-- workaround for a bug in angular-chosen -->
    </select>
    <form-label>Number of Adult(s)</form-label>
  </form-element>

  <!-- NUMBER OF CHILDREN -->
  <form-element class="persons" ng-if="!advanced">
    <select name="children"
            required ng-model="selected.children"
            disable-search="true"
            chosen ng-options="option.title for option in guestsOptions.children"
            data-placeholder="Children"
            ng-change="checkAvailability()">
    <option></option> <!-- tworkaround for a bug in angular-chosen -->
    </select>
    <form-label>Number of Children</form-label>
  </form-element>

  <!-- ENTER YOUR CODE -->
  <form-element ng-if="!advanced" class="code" ng-class="{'code-input': selected.codeType}">
    <select name="code"
        required ng-model="selected.codeType"
        disable-search="true"
        chosen ng-options="code as code.title for code in codeTypes"
        ng-change="onCodeTypeChanged()"
        data-placeholder="Apply code">
      <option></option>
    </select>

    <input type="text" class="booking-widget-promo-code" ng-show="selected.codeType.param === 'promoCode'" placeholder="Promo Code" ng-model="selected.promoCode">

    <input type="text" class="booking-widget-promo-code" ng-show="selected.codeType.param === 'corpCode'" placeholder="Corp Code" ng-model="selected.corpCode">

    <input type="text" class="booking-widget-promo-code" ng-show="selected.codeType.param === 'groupCode'" placeholder="Group Code" ng-model="selected.groupCode">
    <form-label>{{selected.codeType.title}}</form-label>

    <remove-code role="button" class="remove" ng-click="removeCode()"></remove-code>
  </form-element>
</booking-widget-search>

<booking-widget-add-room ng-if="advanced">
  <booking-widget-room ng-repeat="room in selected.rooms">
    <h3>Room {{$index + 1}}</h3>

    <form-element class="persons">
      <select name="adults"
              required ng-model="room.adults"
              data-placeholder="Adults"
              disable-search="true"
              chosen ng-options="option.title for option in guestsOptions.adults">
        <option></option> <!-- workaround for a bug in angular-chosen -->
      </select>
      <form-label>Number of Adult(s)</form-label>
    </form-element>

    <form-element class="persons">
      <select name="children"
              required ng-model="room.children"
              data-placeholder="Children"
              disable-search="true"
              chosen ng-options="option.title for option in guestsOptions.children">
        <option></option> <!-- workaround for a bug in angular-chosen -->
      </select>
      <form-label>Number of Children</form-label>
    </form-element>

    <button-text ng-if="$index > 1" role="button" tabindex="0" ng-click="removeRoom($index)" aria-label="Remove Room">Remove Room</button-text>
  </booking-widget-room>

  <div>
    <button-text role="button" tabindex="0" ng-click="addRoom()" ng-show="canAddRoom">+ Add a room</button-text>
  </div>

</booking-widget-add-room>

<!-- SUBMIT BUTTON -->
<button-submit
  role="button" tabindex="0"
  ng-click="isSearchable() && onSearch()"
  ng-disabled="!isSearchable()">
  {{hasMultiroomTab? 'Search Now':'Go'}}
</button-submit>
