
<div ng-if="!user.isLoggedIn()" class="sign-up">
  <p><a href ng-click="sso.profile()">_loyalty_progam_link_</a> _loyalty_progam_desc_</p>
</div>

<div ng-if="user.isLoggedIn()">
  <article ng-show="displaySettings.profile" ng-click="goToPrestige()" class="account-profile">
    <img ng-src="{{user.getUser().avatarUrl}}" err-source="/static/images/v4/img-profile.png">
    <h4>{{user.getUser().firstName}} {{user.getUser().lastName}}</h4>
    <p ng-show="displaySettings.tier">{{user.getUser().loyalties.tier}} _tier_</p>
    <p>{{user.getUser().loyalties.amount}} _points_</p>
  </article>

  <article ng-show="displaySettings.badges" ng-switch="!!lastBadge" ng-click="showBadges()">
    <img ng-src="{{lastBadge.icon}}" err-source="//res.cloudinary.com/dmh2cjswj/image/upload/q_auto,f_auto/v1436277065/SAN/LoyaltyCardStamp.png" />
    <h4 ng-bind-html="'_last_badge_earned_' | mainHeaderStyle"></h4>
    <p ng-switch-when="false" ng-bind-html='"_no_badges_earned_" | mainHeaderStyle'></p>
    <p ng-switch-default>{{lastBadge.name}}</p>
    <p ng-switch-default>{{lastBadge.displayedDate}}</p>
  </article>

  <article ng-show="displaySettings.loyalities" ng-click="showLoyaltyCard()">
    <img ng-src="_link_to_loyalities_icon_" err-source="//res.cloudinary.com/dmh2cjswj/image/upload/q_auto,f_auto/v1436190525/SAN/stamp-card.png" />
    <h4 ng-bind-html="'_loyalty_card_' | mainHeaderStyle"></h4>
    <p>{{loyaltiesEarned}}/{{loyaltiesAll}} _stamps_</p>
    <p ng-if="loyaltyName">{{loyaltyName}} _card_</p>
  </article>

  <article ng-show="displaySettings.rewards" ng-click="showRewards()">
    <img ng-src="{{lastReward.images[0].uri || '//res.cloudinary.com/dmh2cjswj/image/upload/q_auto,f_auto/v1436277065/SAN/LoyaltyCardStamp.png'}}" err-source="http://res.cloudinary.com/dmh2cjswj/image/upload/q_auto,f_auto/v1436277065/SAN/LoyaltyCardStamp.png" />
    <!-- Have last reward -->
    <div ng-if="lastReward && lastReward.earned">
      <h4 ng-bind-html="'_last_reward_bought_' | mainHeaderStyle"></h4>
      <p>{{lastReward.name}}</p>
      <p>{{lastReward.earned | dateTime:'D MMM YYYY'}}</p>
    </div>

    <div ng-if="lastReward && !lastReward.earned">
      <h4 ng-bind-html="'_rewards_' | mainHeaderStyle"></h4>
      <p>_no_rewards_desc_</p>
    </div>
  </article>

  <article ng-show="displaySettings.description" class="description">
    <p>_loyalty_program_loggedin_desc_</p>
  </article>
</div>
